{"version":3,"sources":["rza-script.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","window","addEventListener","tabs","document","querySelectorAll","switchTab","event","preventDefault","querySelector","classList","remove","clickedTab","currentTarget","activePaneID","target","getAttribute","add","console","clear","input","field","caret","createElement","reposition","getBoundingClientRect","style","position","left","top","margin","width","visibility","body","appendChild","onload","onresize","onfocus","onblur","keys","dimensions","options","canvas","context","particles","destroyed","error","init","paint","tick","beforePaint","afterPaint","action","readyState","setup","fitCanvas","innerWidth","height","innerHeight","destroy","particle","push","id","group","velocity","size","life","behavior","Particle","getContext","this","clearRect","spray","amount","config","apply","debug","circle","x","y","beginPath","moveTo","lineTo","strokeStyle","stroke","closePath","color","arc","Math","PI","fillStyle","fill","square","rect","cohesion","range","speed","pow","center","Vector","count","distanceSquared","subtract","divide","normalize","multiply","magnitude","separation","distance","diff","heading","limit","alignment","move","eat","food","prey","indexOf","neighbour","force","treshold","attract","forceMultiplier","groups","attractor","totalForce","grouping","wrap","radius","reflect","edge","Object","defineProperties","get","p","update","pop","splice","act","requestAnimationFrame","self","go","simulate","forEach","w","h","keyCode","textContent","value","intensity","progress","min","offsetWidth","offset","rangeMin","max","rangeMax","right","create","Random","between","bottom","random","setTimeout","PI_2","PI_180","_x","_y","_id","_group","_position","_velocity","_size","_life","round","_behavior","b","v","randomize","dx","dy","sqrt","prototype","magnitudeSquared","angle","atan2","clone","rotate","degrees","PI_HALF","cos","sin","flip","temp","invert","toString","stage"],"mappings":"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","file":"rza-script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n\"use strict\";\n\nwindow.addEventListener(\"load\", function () {\n\n    // store tabs variables\n    var tabs = document.querySelectorAll(\"ul.nav-tabs > li\");\n\n    for (var i = 0; i < tabs.length; i++) {\n        tabs[i].addEventListener(\"click\", switchTab);\n    }\n\n    function switchTab(event) {\n        event.preventDefault();\n\n        document.querySelector(\"ul.nav-tabs li.active\").classList.remove(\"active\");\n        document.querySelector(\".tab-pane.active\").classList.remove(\"active\");\n\n        var clickedTab = event.currentTarget;\n        var anchor = event.target;\n        var activePaneID = anchor.getAttribute(\"href\");\n\n        clickedTab.classList.add(\"active\");\n        document.querySelector(activePaneID).classList.add(\"active\");\n    }\n});\n\nconsole.clear();\n\nvar MAX_LIFE = 50;\nvar canvas = document.querySelector('canvas');\nvar input = document.querySelector('input');\nvar field = {};\nvar hasFocus = false;\nvar caret = document.createElement('span');\ncaret.style.position = 'absolute';\ncaret.style.left = 0;\ncaret.style.top = 0;\ncaret.style.margin = 0;\ncaret.style.width = 'auto';\ncaret.style.visibility = 'hidden';\ndocument.body.appendChild(caret);\n\nfunction reposition() {\n    field = input.getBoundingClientRect();\n}\nwindow.onload = reposition;\nwindow.onresize = reposition;\nreposition();\n\ninput.onfocus = function () {\n    hasFocus = true;\n};\ninput.onblur = function () {\n    hasFocus = false;\n};\n\nvar keys = [8, 9, 13, 16, 17, 18, 27, 32, 33, 34, 35, 36, 37, 38, 39, 40, 46, 91, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123];\nfunction spawnsCharacter(keyCode) {\n    return keys.indexOf(keyCode) === -1;\n}\n\nfunction burst(intensity) {\n\n    var behavior = [this.behavior.force(-.015, -.015), this.behavior.cohesion(50), this.behavior.move()];\n\n    var size = 1.25;\n    var force = .7;\n    var lifeMin = 0;\n    var progress = Math.min(field.width, caret.offsetWidth) / field.width;\n    var offset = field.left + field.width * progress;\n    var rangeMin = Math.max(field.left, offset - 30);\n    var rangeMax = Math.min(field.right, offset + 10);\n\n    this.spray(intensity, function () {\n        return [null, null, Vector.create(Random.between(rangeMin + 10, rangeMax - 20), Random.between(field.top + 15, field.bottom - 15)), Vector.random(force), size + Math.random(), Random.between(lifeMin, 0), behavior];\n    });\n\n    // top edge\n    this.spray(intensity * .5, function () {\n        return [null, null, Vector.create(Random.between(rangeMin, rangeMax), field.top), Vector.random(force), size + Math.random(), Random.between(lifeMin, 0), behavior];\n    });\n\n    // bottom edge\n    this.spray(intensity * .5, function () {\n        return [null, null, Vector.create(Random.between(rangeMin, rangeMax), field.top + field.height), Vector.random(force), size + Math.random(), Random.between(lifeMin, 0), behavior];\n    });\n\n    // left edge\n    if (input.value.length === 1) {\n\n        this.spray(intensity * 2, function () {\n            return [null, null, Vector.create(field.left + Math.random() * 20, Random.between(field.top, field.bottom)), Vector.random(force), size + Math.random(), Random.between(lifeMin, 0), behavior];\n        });\n    }\n\n    // right edge\n    if (rangeMax == field.right) {\n\n        this.spray(intensity * 2, function () {\n            return [null, null, Vector.create(field.right, Random.between(field.top, field.bottom)), Vector.random(force), size + Math.random(), Random.between(lifeMin, 0), behavior];\n        });\n    }\n}\n\n// start particle simulation\nsimulate('2d', {\n    init: function init() {},\n    tick: function tick(particles) {\n\n        if (!particles) {\n            return;\n        }\n\n        particles.forEach(function (p) {\n\n            if (p.life > MAX_LIFE) {\n                this.destroy(p);\n            }\n        });\n    },\n    beforePaint: function beforePaint() {\n        this.clear();\n    },\n    paint: function paint(particle) {\n\n        var p = particle.position;\n        var s = particle.size;\n        var o = 1 - particle.life / MAX_LIFE;\n\n        this.paint.circle(p.x, p.y, s, 'rgba(255,255,255,' + o + ')');\n        this.paint.circle(p.x, p.y, s + 1.5, 'rgba(231,244,255,' + o * .25 + ')');\n\n        // extra\n        var w = 2;\n        var wh = w * .5;\n        var h = 35;\n        var hh = h * .5;\n        this.context.rect(p.x - wh, p.y - hh, w, h);\n        this.context.fillStyle = 'rgba(231,244,255,' + o * .025 + ')';\n        this.context.fill();\n        this.context.closePath();\n    },\n    afterPaint: function afterPaint() {\n        // nothing\n    },\n    action: function action(e) {\n\n        if (!spawnsCharacter(e.keyCode)) {\n            return;\n        }\n\n        caret.textContent = input.value;\n\n        burst.call(this, 12);\n\n        input.classList.add('keyup');\n        setTimeout(function () {\n            input.classList.remove('keyup');\n        }, 100);\n    }\n});\n\n// \"simulate\" particle simulation logic\n/**\n * Constants\n */\nPI_2 = Math.PI / 2;\nPI_180 = Math.PI / 180;\n\n/**\n * Random\n */\nvar Random = {\n    between: function between(min, max) {\n        return min + Math.random() * (max - min);\n    }\n};\n\n/**\n * 2D Vector Class\n */\nfunction Vector(x, y) {\n    this._x = x || 0;\n    this._y = y || 0;\n}\n\nVector.create = function (x, y) {\n    return new Vector(x, y);\n};\n\nVector.add = function (a, b) {\n    return new Vector(a.x + b.x, a.y + b.y);\n};\n\nVector.subtract = function (a, b) {\n    return new Vector(a.x - b.x, a.y - b.y);\n};\n\nVector.random = function (range) {\n    var v = new Vector();\n    v.randomize(range);\n    return v;\n};\n\nVector.distanceSquared = function (a, b) {\n    var dx = a.x - b.x;\n    var dy = a.y - b.y;\n    return dx * dx + dy * dy;\n};\n\nVector.distance = function (a, b) {\n    var dx = a.x - b.x;\n    var dy = a.y - b.y;\n    return Math.sqrt(dx * dx + dy * dy);\n};\n\nVector.prototype = {\n    get x() {\n        return this._x;\n    },\n    get y() {\n        return this._y;\n    },\n    set x(value) {\n        this._x = value;\n    },\n    set y(value) {\n        this._y = value;\n    },\n    get magnitudeSquared() {\n        return this._x * this._x + this._y * this._y;\n    },\n    get magnitude() {\n        return Math.sqrt(this.magnitudeSquared);\n    },\n    get angle() {\n        return Math.atan2(this._y, this._x) * 180 / Math.PI;\n    },\n    clone: function clone() {\n        return new Vector(this._x, this._y);\n    },\n    add: function add(v) {\n        this._x += v.x;\n        this._y += v.y;\n    },\n    subtract: function subtract(v) {\n        this._x -= v.x;\n        this._y -= v.y;\n    },\n    multiply: function multiply(value) {\n        this._x *= value;\n        this._y *= value;\n    },\n    divide: function divide(value) {\n        this._x /= value;\n        this._y /= value;\n    },\n    normalize: function normalize() {\n        var magnitude = this.magnitude;\n        if (magnitude > 0) {\n            this.divide(magnitude);\n        }\n    },\n    limit: function limit(treshold) {\n        if (this.magnitude > treshold) {\n            this.normalize();\n            this.multiply(treshold);\n        }\n    },\n    randomize: function randomize(amount) {\n        amount = amount || 1;\n        this._x = amount * 2 * (-.5 + Math.random());\n        this._y = amount * 2 * (-.5 + Math.random());\n    },\n    rotate: function rotate(degrees) {\n        var magnitude = this.magnitude;\n        var angle = (Math.atan2(this._x, this._y) * PI_HALF + degrees) * PI_180;\n        this._x = magnitude * Math.cos(angle);\n        this._y = magnitude * Math.sin(angle);\n    },\n    flip: function flip() {\n        var temp = this._y;\n        this._y = this._x;\n        this._x = temp;\n    },\n    invert: function invert() {\n        this._x = -this._x;\n        this._y = -this._y;\n    },\n    toString: function toString() {\n        return this._x + ', ' + this._y;\n    }\n};\n\n/**\n * Particle Class\n */\nfunction Particle(id, group, position, velocity, size, life, behavior) {\n\n    this._id = id || 'default';\n    this._group = group || 'default';\n\n    this._position = position || new Vector();\n    this._velocity = velocity || new Vector();\n    this._size = size || 1;\n    this._life = Math.round(life || 0);\n\n    this._behavior = behavior || [];\n}\n\nParticle.prototype = {\n    get id() {\n        return this._id;\n    },\n    get group() {\n        return this._group;\n    },\n    get life() {\n        return this._life;\n    },\n    get size() {\n        return this._size;\n    },\n    set size(size) {\n        this._size = size;\n    },\n    get position() {\n        return this._position;\n    },\n    get velocity() {\n        return this._velocity;\n    },\n    update: function update(stage) {\n\n        this._life++;\n\n        var i = 0;\n        var l = this._behavior.length;\n\n        for (; i < l; i++) {\n            this._behavior[i].call(stage, this);\n        }\n    },\n    toString: function toString() {\n        return 'Particle(' + this._id + ') ' + this._life + ' pos: ' + this._position + ' vec: ' + this._velocity;\n    }\n};\n\n// setup DOM\nfunction simulate(dimensions, options) {\n\n    // private vars\n    var particles = [];\n    var destroyed = [];\n    var update = update || function () {};\n    var stage = stage || function () {};\n    var canvas;\n    var context;\n\n    if (!options) {\n        console.error('\"options\" object must be defined');\n        return;\n    }\n\n    if (!options.init) {\n        console.error('\"init\" function must be defined');\n        return;\n    }\n\n    if (!options.paint) {\n        console.error('\"paint\" function must be defined');\n        return;\n    }\n\n    if (!options.tick) {\n        options.tick = function () {};\n    }\n\n    if (!options.beforePaint) {\n        options.beforePaint = function () {};\n    }\n\n    if (!options.afterPaint) {\n        options.afterPaint = function () {};\n    }\n\n    if (!options.action) {\n        options.action = function () {};\n    }\n\n    if (document.readyState === 'interactive') {\n        setup();\n    } else {\n        document.addEventListener('DOMContentLoaded', setup);\n    }\n\n    // resizes canvas to fit window dimensions\n    function fitCanvas() {\n        canvas.width = window.innerWidth;\n        canvas.height = window.innerHeight;\n    }\n\n    // create canvas for drawing\n    function setup() {\n\n        // create\n        canvas = document.createElement('canvas');\n        document.body.appendChild(canvas);\n\n        // correct canvas size on window resize\n        window.addEventListener('resize', fitCanvas);\n\n        // go\n        go();\n    }\n\n    // canvas has been attached, let's go!\n    function go() {\n\n        // set initial canvas size\n        fitCanvas();\n\n        // get context for drawing\n        context = canvas.getContext(dimensions);\n\n        // simulation update loop\n        function act() {\n\n            // update particle states\n            var i = 0;\n            var l = particles.length;\n            var p;\n            for (; i < l; i++) {\n                particles[i].update(this);\n            }\n\n            // clean destroyed particles\n            while (p = destroyed.pop()) {\n\n                do {\n\n                    // has not been found in destroyed array?\n                    if (p !== particles[i]) {\n                        continue;\n                    }\n\n                    // remove particle\n                    particles.splice(i, 1);\n                } while (i-- >= 0);\n            }\n\n            // repaint context\n            options.beforePaint.call(this);\n\n            // repaint particles\n            i = 0;\n            l = particles.length;\n            for (; i < l; i++) {\n                options.paint.call(this, particles[i]);\n            }\n\n            // after particles have been painted\n            options.afterPaint.call(this);\n        }\n\n        function tick() {\n\n            // call update method, this allows for inserting particles later on\n            options.tick.call(this, particles);\n\n            // update particles here\n            act();\n\n            // on to the next frame\n            window.requestAnimationFrame(tick);\n        }\n\n        /**\n         * API\n         **/\n        function clear() {\n            context.clearRect(0, 0, canvas.width, canvas.height);\n        }\n\n        function destroy(particle) {\n            destroyed.push(particle);\n        }\n\n        function add(id, group, position, velocity, size, life, behavior) {\n            particles.push(new Particle(id, group, position, velocity, size, life, behavior));\n        }\n\n        function spray(amount, config) {\n            var i = 0;\n            for (; i < amount; i++) {\n                add.apply(this, config());\n            }\n        }\n\n        function debug(particle) {\n            this.paint.circle(particle.position.x, particle.position.y, particle.size, 'rgba(255,0,0,.75)');\n            context.beginPath();\n            context.moveTo(particle.position.x, particle.position.y);\n            context.lineTo(particle.position.x + particle.velocity.x * 10, particle.position.y + particle.velocity.y * 10);\n            context.strokeStyle = 'rgba(255,0,0,.1)';\n            context.stroke();\n            context.closePath();\n        }\n\n        this.clear = clear;\n        this.destroy = destroy;\n        this.add = add;\n        this.spray = spray;\n        this.debug = debug;\n\n        this.paint = {\n            circle: function circle(x, y, size, color) {\n                context.beginPath();\n                context.arc(x, y, size, 0, 2 * Math.PI, false);\n                context.fillStyle = color;\n                context.fill();\n            },\n            square: function square(x, y, size, color) {\n                context.beginPath();\n                context.rect(x - size * .5, y - size * .5, size, size);\n                context.fillStyle = color;\n                context.fill();\n            }\n        };\n\n        this.behavior = {\n            cohesion: function cohesion(range, speed) {\n                range = Math.pow(range || 100, 2);\n                speed = speed || .001;\n                return function (particle) {\n\n                    var center = new Vector();\n                    var i = 0;\n                    var l = particles.length;\n                    var count = 0;\n\n                    if (l <= 1) {\n                        return;\n                    }\n\n                    for (; i < l; i++) {\n\n                        // don't use self in group\n                        if (particles[i] === particle || Vector.distanceSquared(particles[i].position, particle.position) > range) {\n                            continue;\n                        }\n\n                        center.add(Vector.subtract(particles[i].position, particle.position));\n                        count++;\n                    }\n\n                    if (count > 0) {\n\n                        center.divide(count);\n\n                        center.normalize();\n                        center.multiply(particle.velocity.magnitude);\n\n                        center.multiply(.05);\n                    }\n\n                    particle.velocity.add(center);\n                };\n            },\n            separation: function separation(distance) {\n\n                var distance = Math.pow(distance || 25, 2);\n\n                return function (particle) {\n\n                    var heading = new Vector();\n                    var i = 0;\n                    var l = particles.length;\n                    var count = 0;\n                    var diff;\n\n                    if (l <= 1) {\n                        return;\n                    }\n\n                    for (; i < l; i++) {\n\n                        // don't use self in group\n                        if (particles[i] === particle || Vector.distanceSquared(particles[i].position, particle.position) > distance) {\n                            continue;\n                        }\n\n                        // stay away from neighbours\n                        diff = Vector.subtract(particle.position, particles[i].position);\n                        diff.normalize();\n\n                        heading.add(diff);\n                        count++;\n                    }\n\n                    if (count > 0) {\n\n                        // get average\n                        heading.divide(count);\n\n                        // make same length as current velocity (so particle won't speed up)\n                        heading.normalize();\n                        heading.multiply(particle.velocity.magnitude);\n\n                        // limit force to make particle movement smoother\n                        heading.limit(.1);\n                    }\n\n                    particle.velocity.add(heading);\n                };\n            },\n            alignment: function alignment(range) {\n                range = Math.pow(range || 100, 2);\n                return function (particle) {\n\n                    var i = 0;\n                    var l = particles.length;\n                    var count = 0;\n                    var heading = new Vector();\n\n                    if (l <= 1) {\n                        return;\n                    }\n\n                    for (; i < l; i++) {\n\n                        // don't use self in group also don't align when out of range\n                        if (particles[i] === particle || Vector.distanceSquared(particles[i].position, particle.position) > range) {\n                            continue;\n                        }\n\n                        heading.add(particles[i].velocity);\n                        count++;\n                    }\n\n                    if (count > 0) {\n\n                        heading.divide(count);\n                        heading.normalize();\n                        heading.multiply(particle.velocity.magnitude);\n\n                        // limit\n                        heading.multiply(.1);\n                    }\n\n                    particle.velocity.add(heading);\n                };\n            },\n            move: function move() {\n                return function (particle) {\n                    particle.position.add(particle.velocity);\n\n                    // handle collisions?\n                };\n            },\n            eat: function eat(food) {\n                food = food || [];\n                return function (particle) {\n\n                    var i = 0;\n                    var l = particles.length;\n                    var prey;\n\n                    for (; i < l; i++) {\n\n                        prey = particles[i];\n\n                        // can't eat itself, also, needs to be tasty\n                        if (prey === particle || food.indexOf(prey.group) === -1) {\n                            continue;\n                        }\n\n                        // calculate force vector\n                        if (Vector.distanceSquared(particle.position, neighbour.position) < 2 && particle.size >= neighbour.size) {\n                            particle.size += neighbour.size;\n                            destroy(neighbour);\n                        }\n                    }\n                };\n            },\n            force: function force(x, y) {\n                return function (particle) {\n                    particle.velocity.x += x;\n                    particle.velocity.y += y;\n                };\n            },\n            limit: function limit(treshold) {\n                return function (particle) {\n                    particle.velocity.limit(treshold);\n                };\n            },\n            attract: function attract(forceMultiplier, groups) {\n                forceMultiplier = forceMultiplier || 1;\n                groups = groups || [];\n                return function (particle) {\n\n                    // attract other particles\n                    var totalForce = new Vector(0, 0);\n                    var force = new Vector(0, 0);\n                    var i = 0;\n                    var l = particles.length;\n                    var distance;\n                    var pull;\n                    var attractor;\n                    var grouping = groups.length;\n\n                    for (; i < l; i++) {\n\n                        attractor = particles[i];\n\n                        // can't be attracted by itself or mismatched groups\n                        if (attractor === particle || grouping && groups.indexOf(attractor.group) === -1) {\n                            continue;\n                        }\n\n                        // calculate force vector\n                        force.x = attractor.position.x - particle.position.x;\n                        force.y = attractor.position.y - particle.position.y;\n                        distance = force.magnitude;\n                        force.normalize();\n\n                        // the bigger the attractor the more force\n                        force.multiply(attractor.size / distance);\n\n                        totalForce.add(force);\n                    }\n\n                    totalForce.multiply(forceMultiplier);\n\n                    particle.velocity.add(totalForce);\n                };\n            },\n            wrap: function wrap(margin) {\n                return function (particle) {\n\n                    // move around when particle reaches edge of screen\n                    var position = particle.position;\n                    var radius = particle.size * .5;\n\n                    if (position.x + radius > canvas.width + margin) {\n                        position.x = radius;\n                    }\n\n                    if (position.y + radius > canvas.height + margin) {\n                        position.y = radius;\n                    }\n\n                    if (position.x - radius < -margin) {\n                        position.x = canvas.width - radius;\n                    }\n\n                    if (position.y - radius < -margin) {\n                        position.y = canvas.height - radius;\n                    }\n                };\n            },\n            reflect: function reflect() {\n\n                return function (particle) {\n\n                    // bounce from edges\n                    var position = particle.position;\n                    var velocity = particle.velocity;\n                    var radius = particle.size * .5;\n\n                    if (position.x + radius > canvas.width) {\n                        velocity.x = -velocity.x;\n                    }\n\n                    if (position.y + radius > canvas.height) {\n                        velocity.y = -velocity.y;\n                    }\n\n                    if (position.x - radius < 0) {\n                        velocity.x = -velocity.x;\n                    }\n\n                    if (position.y - radius < 0) {\n                        velocity.y = -velocity.y;\n                    }\n                };\n            },\n            edge: function edge(action) {\n                return function (particle) {\n\n                    var position = particle.position;\n                    var velocity = particle.velocity;\n                    var radius = particle.size * .5;\n\n                    if (position.x + radius > canvas.width) {\n                        action(particle);\n                    }\n\n                    if (position.y + radius > canvas.height) {\n                        action(particle);\n                    }\n\n                    if (position.x - radius < 0) {\n                        action(particle);\n                    }\n\n                    if (position.y - radius < 0) {\n                        action(particle);\n                    }\n                };\n            }\n        };\n\n        // public\n        Object.defineProperties(this, {\n            'particles': {\n                get: function get() {\n                    return particles;\n                }\n            },\n            'width': {\n                get: function get() {\n                    return canvas.width;\n                }\n            },\n            'height': {\n                get: function get() {\n                    return canvas.height;\n                }\n            },\n            'context': {\n                get: function get() {\n                    return context;\n                }\n            }\n        });\n\n        // call init method so the scene can be setup\n        options.init.call(this);\n\n        // start ticking\n        tick();\n\n        // start listening to events\n        var self = this;\n        document.addEventListener('keyup', function (e) {\n            options.action.call(self, e);\n        });\n    }\n};\n\n},{}]},{},[1]);\n"]}